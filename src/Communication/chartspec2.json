{
    "$schema": "https://vega.github.io/schema/vega/v5.json",
    "width": 500,
    "height": 400,
    "padding": 0,

    "data": [
        {
            "name": "table",
            "values": [
                {
                    "Test": "Original Bechdel Test",
                    "Desc": "There are at least 2 named female characters who have a conversation not about a man",
                    "Bad Moms": 0,
                    "Hidden Figures": 0,
                    "Independence Day: Resurgence": 0,
                    "Finding Dory": 0,
                    "Ghostbusters": 0,
                    "Allegiant": 0,
                    "Arrival": 0,
                    "Ice Age: Collision Course": 0,
                    "Kung Fu Panda 3": 0,
                    "Miss Peregrine's Home for Peculiar Children": 0,
                    "Sing": 0,
                    "The Boss": 0,
                    "The Girl on the Train": 0,
                    "Boo! A Madea Halloween": 0,
                    "Alice Through the Looking Glass": 0,
                    "Fantastic Beasts and Where to Find Them": 0,
                    "La La Land": 0,
                    "Now You See Me 2": 1,
                    "Passengers": 1,
                    "Pete's Dragon": 0,
                    "Sausage Party": 0,
                    "Storks": 1,
                    "Suicide Squad": 0,
                    "The Conjuring 2": 0,
                    "The Purge: Election Year": 0,
                    "X-Men: Apocalypse": 0,
                    "10 Cloverfield Lane": 0,
                    "Batman v Superman: Dawn of Justice": 1,
                    "Captain America: Civil War": 0,
                    "Central Intelligence": 1,
                    "Don't Breathe": 0,
                    "Hacksaw Ridge": 1,
                    "Lights Out": 0,
                    "Moana": 0,
                    "Ride Along 2": 1,
                    "Star Trek Beyond": 1,
                    "Sully": 1,
                    "Teenage Mutant Ninja Turtles: Out of the Shadows": 0,
                    "The Angry Birds Movie": 1,
                    "The Magnificent Seven": 1,
                    "Trolls": 0,
                    "Zootopia": 0,
                    "Jason Bourne": 1,
                    "Rogue One": 0,
                    "The Accountant": 1,
                    "The Jungle Book": 1,
                    "The Legend of Tarzan": 1,
                    "Deadpool": 1,
                    "Doctor Strange": 1,
                    "The Secret Life of Pets": 1,
                    "Total": 32
                },
                {
                    "Test": "Protagonist - Landau Test",
                    "Desc": "FAILS if a primary female character ends up dead, pregnant, or causes a plot problem for the male protagonist",
                    "Bad Moms": 0,
                    "Hidden Figures": 0,
                    "Independence Day: Resurgence": 1,
                    "Finding Dory": 1,
                    "Ghostbusters": 0,
                    "Allegiant": 1,
                    "Arrival": 1,
                    "Ice Age: Collision Course": 0,
                    "Kung Fu Panda 3": 0,
                    "Miss Peregrine's Home for Peculiar Children": 0,
                    "Sing": 1,
                    "The Boss": 0,
                    "The Girl on the Train": 1,
                    "Boo! A Madea Halloween": 1,
                    "Alice Through the Looking Glass": 1,
                    "Fantastic Beasts and Where to Find Them": 1,
                    "La La Land": 1,
                    "Now You See Me 2": 0,
                    "Passengers": 0,
                    "Pete's Dragon": 1,
                    "Sausage Party": 1,
                    "Storks": 1,
                    "Suicide Squad": 1,
                    "The Conjuring 2": 1,
                    "The Purge: Election Year": 1,
                    "X-Men: Apocalypse": 0,
                    "10 Cloverfield Lane": 1,
                    "Batman v Superman: Dawn of Justice": 1,
                    "Captain America: Civil War": 1,
                    "Central Intelligence": 1,
                    "Don't Breathe": 1,
                    "Hacksaw Ridge": 0,
                    "Lights Out": 1,
                    "Moana": 1,
                    "Ride Along 2": 0,
                    "Star Trek Beyond": 1,
                    "Sully": 0,
                    "Teenage Mutant Ninja Turtles: Out of the Shadows": 0,
                    "The Angry Birds Movie": 0,
                    "The Magnificent Seven": 0,
                    "Trolls": 1,
                    "Zootopia": 1,
                    "Jason Bourne": 1,
                    "Rogue One": 1,
                    "The Accountant": 1,
                    "The Jungle Book": 0,
                    "The Legend of Tarzan": 1,
                    "Deadpool": 1,
                    "Doctor Strange": 1,
                    "The Secret Life of Pets": 1,
                    "Total": 17
                },
                {
                    "Test": "Supporting Cast - Hagen Test",
                    "Desc": "The first crowd scene is 50% women, and 50% of single-scene roles go to women",
                    "Bad Moms": 0,
                    "Hidden Figures": 1,
                    "Independence Day: Resurgence": 1,
                    "Finding Dory": 0,
                    "Ghostbusters": 1,
                    "Allegiant": 1,
                    "Arrival": 1,
                    "Ice Age: Collision Course": 1,
                    "Kung Fu Panda 3": 1,
                    "Miss Peregrine's Home for Peculiar Children": 1,
                    "Sing": 1,
                    "The Boss": 1,
                    "The Girl on the Train": 1,
                    "Boo! A Madea Halloween": 1,
                    "Alice Through the Looking Glass": 1,
                    "Fantastic Beasts and Where to Find Them": 1,
                    "La La Land": 1,
                    "Now You See Me 2": 1,
                    "Passengers": 1,
                    "Pete's Dragon": 1,
                    "Sausage Party": 1,
                    "Storks": 1,
                    "Suicide Squad": 1,
                    "The Conjuring 2": 1,
                    "The Purge: Election Year": 1,
                    "X-Men: Apocalypse": 1,
                    "10 Cloverfield Lane": 1,
                    "Batman v Superman: Dawn of Justice": 1,
                    "Captain America: Civil War": 1,
                    "Central Intelligence": 1,
                    "Don't Breathe": 1,
                    "Hacksaw Ridge": 1,
                    "Lights Out": 1,
                    "Moana": 1,
                    "Ride Along 2": 1,
                    "Star Trek Beyond": 1,
                    "Sully": 1,
                    "Teenage Mutant Ninja Turtles: Out of the Shadows": 1,
                    "The Angry Birds Movie": 1,
                    "The Magnificent Seven": 1,
                    "Trolls": 1,
                    "Zootopia": 1,
                    "Jason Bourne": 1,
                    "Rogue One": 1,
                    "The Accountant": 1,
                    "The Jungle Book": 1,
                    "The Legend of Tarzan": 1,
                    "Deadpool": 1,
                    "Doctor Strange": 1,
                    "The Secret Life of Pets": 1,
                    "Total": 2
                },
                {
                    "Test": "Intersectionality - Ko Test",
                    "Desc": "A non-white woman speaks in 5+ scenes and speaks English",
                    "Bad Moms": 0,
                    "Hidden Figures": 0,
                    "Independence Day: Resurgence": 0,
                    "Finding Dory": 1,
                    "Ghostbusters": 0,
                    "Allegiant": 0,
                    "Arrival": 1,
                    "Ice Age: Collision Course": 0,
                    "Kung Fu Panda 3": 0,
                    "Miss Peregrine's Home for Peculiar Children": 1,
                    "Sing": 0,
                    "The Boss": 1,
                    "The Girl on the Train": 1,
                    "Boo! A Madea Halloween": 0,
                    "Alice Through the Looking Glass": 1,
                    "Fantastic Beasts and Where to Find Them": 0,
                    "La La Land": 1,
                    "Now You See Me 2": 0,
                    "Passengers": 1,
                    "Pete's Dragon": 1,
                    "Sausage Party": 0,
                    "Storks": 1,
                    "Suicide Squad": 0,
                    "The Conjuring 2": 1,
                    "The Purge: Election Year": 0,
                    "X-Men: Apocalypse": 1,
                    "10 Cloverfield Lane": 1,
                    "Batman v Superman: Dawn of Justice": 1,
                    "Captain America: Civil War": 1,
                    "Central Intelligence": 0,
                    "Don't Breathe": 1,
                    "Hacksaw Ridge": 1,
                    "Lights Out": 1,
                    "Moana": 0,
                    "Ride Along 2": 0,
                    "Star Trek Beyond": 0,
                    "Sully": 1,
                    "Teenage Mutant Ninja Turtles: Out of the Shadows": 1,
                    "The Angry Birds Movie": 0,
                    "The Magnificent Seven": 1,
                    "Trolls": 1,
                    "Zootopia": 1,
                    "Jason Bourne": 1,
                    "Rogue One": 1,
                    "The Accountant": 0,
                    "The Jungle Book": 0,
                    "The Legend of Tarzan": 1,
                    "Deadpool": 1,
                    "Doctor Strange": 1,
                    "The Secret Life of Pets": 1,
                    "Total": 21
                },
                {
                    "Test": "Crew - Uphold Test",
                    "Desc": "The crew is 50% women",
                    "Bad Moms": 1,
                    "Hidden Figures": 1,
                    "Independence Day: Resurgence": 1,
                    "Finding Dory": 1,
                    "Ghostbusters": 1,
                    "Allegiant": 1,
                    "Arrival": 1,
                    "Ice Age: Collision Course": 1,
                    "Kung Fu Panda 3": 1,
                    "Miss Peregrine's Home for Peculiar Children": 1,
                    "Sing": 1,
                    "The Boss": 1,
                    "The Girl on the Train": 1,
                    "Boo! A Madea Halloween": 1,
                    "Alice Through the Looking Glass": 1,
                    "Fantastic Beasts and Where to Find Them": 1,
                    "La La Land": 1,
                    "Now You See Me 2": 1,
                    "Passengers": 1,
                    "Pete's Dragon": 1,
                    "Sausage Party": 1,
                    "Storks": 1,
                    "Suicide Squad": 1,
                    "The Conjuring 2": 1,
                    "The Purge: Election Year": 1,
                    "X-Men: Apocalypse": 1,
                    "10 Cloverfield Lane": 1,
                    "Batman v Superman: Dawn of Justice": 1,
                    "Captain America: Civil War": 1,
                    "Central Intelligence": 1,
                    "Don't Breathe": 1,
                    "Hacksaw Ridge": 1,
                    "Lights Out": 1,
                    "Moana": 1,
                    "Ride Along 2": 1,
                    "Star Trek Beyond": 1,
                    "Sully": 1,
                    "Teenage Mutant Ninja Turtles: Out of the Shadows": 1,
                    "The Angry Birds Movie": 1,
                    "The Magnificent Seven": 1,
                    "Trolls": 1,
                    "Zootopia": 1,
                    "Jason Bourne": 1,
                    "Rogue One": 1,
                    "The Accountant": 1,
                    "The Jungle Book": 1,
                    "The Legend of Tarzan": 1,
                    "Deadpool": 1,
                    "Doctor Strange": 1,
                    "The Secret Life of Pets": 1,
                    "Total": 0
                }
            ]
        }
    ],

    "signals": [
        {
            "name": "tooltip",
            "value": {},
            "on": [
                { "events": "rect:mouseover", "update": "datum" },
                { "events": "rect:mouseout", "update": "{}" }
            ]
        }
    ],

    "scales": [
        {
            "name": "xscale",
            "type": "band",
            "domain": { "data": "table", "field": "Test" },
            "range": "width",
            "padding": 0.05,
            "round": true
        },
        {
            "name": "yscale",
            "domain": { "data": "table", "field": "Total" },
            "nice": true,
            "range": "height",
            "domainMax": 50
        }
    ],

    "axes": [
        {
            "orient": "bottom",
            "scale": "xscale",
            "title": "Tests",
            "encode": {
                "labels": {
                    "update": {
                        "angle": { "value": -20 },
                        "fontSize": { "value": 10 },
                        "align": { "value": "right" }
                    }
                }
            }
        },
        { "orient": "left", "scale": "yscale", "title": "Number of Passing Movies (of top 50 grossing)" }
    ],

    "marks": [
        {
            "type": "rect",
            "from": { "data": "table" },
            "encode": {
                "enter": {
                    "x": { "scale": "xscale", "field": "Test" },
                    "width": { "scale": "xscale", "band": 1 },
                    "y": { "scale": "yscale", "field": "Total" },
                    "y2": { "scale": "yscale", "value": 0 }
                },
                "update": {
                    "fill": { "value": "#003f5c" }
                },
                "hover": {
                    "fill": { "value": "#ffa600" },
                    "tooltip": { "field": "Desc", "type": "qualitative" }
                }
            }
        },
        {
            "type": "text",
            "encode": {
                "enter": {
                    "align": { "value": "center" },
                    "baseline": { "value": "bottom" },
                    "fill": { "value": "#333" }
                },
                "update": {
                    "x": { "scale": "xscale", "signal": "tooltip.category", "band": 0.5 },
                    "y": { "scale": "yscale", "signal": "tooltip.amount", "offset": -2 },
                    "text": { "signal": "tooltip.amount" },
                    "fillOpacity": [{ "test": "datum === tooltip", "value": 0 }, { "value": 1 }]
                }
            }
        }
    ]
}
